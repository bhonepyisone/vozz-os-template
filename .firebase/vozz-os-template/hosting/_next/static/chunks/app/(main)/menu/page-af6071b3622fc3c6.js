(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1410,244],{3865:function(e,t,a){Promise.resolve().then(a.bind(a,72069))},41671:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(79205).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},26937:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(79205).Z)("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]])},83229:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(79205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},15868:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(79205).Z)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]])},18930:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(79205).Z)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]])},76865:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(79205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},32489:function(e,t,a){"use strict";a.d(t,{Z:function(){return n}});let n=(0,a(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},72069:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return N}});var n=a(57437),s=a(2265),r=a(8858),l=a(5978),i=a(43949),c=a(15868),d=a(18930),o=a(57598);function u(e){let{onEdit:t,onDelete:a}=e,[i,u]=(0,s.useState)([]),[m,x]=(0,s.useState)(!0);(0,s.useEffect)(()=>{let e=(0,l.hJ)(r.db,"menu"),t=(0,l.cf)(e,e=>{u(e.docs.map(e=>({id:e.id,...e.data()}))),x(!1)},e=>{console.error("Error fetching menu items:",e),x(!1)});return()=>t()},[]);let h=(0,s.useMemo)(()=>i.reduce((e,t)=>{let a=t.category||"Uncategorized";return e[a]||(e[a]=[]),e[a].push(t),e},{}),[i]);return m?(0,n.jsx)("div",{className:"text-center text-gray-500 py-10",children:"Loading menu..."}):(0,n.jsxs)("div",{className:"bg-neo-bg p-6 rounded-2xl shadow-neo-lg",children:[(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4",children:"Menu Items"}),(0,n.jsx)("div",{className:"space-y-6",children:Object.entries(h).map(e=>{let[s,r]=e;return(0,n.jsxs)("div",{children:[(0,n.jsx)("h3",{className:"text-lg font-bold text-gray-600 mb-3 border-b border-neo-dark/30 pb-2",children:s}),(0,n.jsx)("div",{className:"space-y-4",children:r.map(e=>{var s;return(0,n.jsxs)("div",{className:"p-4 border border-neo-dark/20 rounded-lg flex justify-between items-center",children:[(0,n.jsx)("div",{children:(0,n.jsx)("p",{className:"font-bold text-gray-900",children:e.name})}),(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsx)("p",{className:"font-semibold text-gray-700",children:null===(s=e.price)||void 0===s?void 0:s.toLocaleString()}),(0,n.jsx)(o.Z,{onClick:()=>t(e),className:"!w-auto !p-2 !text-blue-600",children:(0,n.jsx)(c.Z,{className:"w-4 h-4"})}),(0,n.jsx)(o.Z,{onClick:()=>a(e),className:"!w-auto !p-2 !text-red-600",children:(0,n.jsx)(d.Z,{className:"w-4 h-4"})})]})]},e.id)})})]},s)})})]})}var m=a(26937),x=a(83229),h=a(63295),p=a(11511),g=a(30387);function y(e){let{setSuccessMessage:t}=e,{t:a}=(0,i.$G)("common"),[c,u]=(0,s.useState)(""),[y,v]=(0,s.useState)(""),[f,j]=(0,s.useState)(""),[b,N]=(0,s.useState)("\uD83C\uDF7D️"),[Z,k]=(0,s.useState)([]),[w,C]=(0,s.useState)([]),[S,I]=(0,s.useState)([]),[M,E]=(0,s.useState)(""),[q,z]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=(0,l.cf)((0,l.hJ)(r.db,"categories"),e=>{C(e.docs.map(e=>({id:e.id,...e.data()})))}),t=(0,l.cf)((0,l.hJ)(r.db,"inventory"),e=>{I(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>{e(),t()}},[]);let D=async()=>{M.trim()&&(await (0,l.ET)((0,l.hJ)(r.db,"categories"),{name:M}),E(""))},O=e=>{k(Z.filter((t,a)=>a!==e))},J=(e,t,a)=>{let n=[...Z];if("inventoryId"===t){let t=S.find(e=>e.id===a);n[e].name=(null==t?void 0:t.name)||""}n[e][t]=a,k(n)},A=async e=>{if(e.preventDefault(),!c||!f||!y){alert("Please fill in name, price, and category.");return}z(!0);try{await (0,l.ET)((0,l.hJ)(r.db,"menu"),{name:c,category:y,price:Number(f),image:b,recipe:Z}),t("".concat(c," has been added to the menu!")),u(""),v(""),j(""),N("\uD83C\uDF7D️"),k([])}catch(e){console.error("Error adding menu item:",e),alert("Failed to add menu item.")}finally{z(!1)}};return(0,n.jsx)(g.Z,{title:a("AddNewMenuItem"),children:(0,n.jsxs)("form",{onSubmit:A,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-600",children:a("ItemName")}),(0,n.jsx)(h.Z,{type:"text",value:c,onChange:e=>u(e.target.value),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-600",children:a("Price")}),(0,n.jsx)(h.Z,{type:"number",value:f,onChange:e=>j(e.target.value),required:!0})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"text-sm font-medium text-gray-600",children:a("ImageEmoji")}),(0,n.jsx)(h.Z,{type:"text",value:b,onChange:e=>N(e.target.value),required:!0})]}),(0,n.jsxs)("div",{className:"border-t border-neo-dark/20 pt-4",children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-600 mb-1",children:a("Category")}),(0,n.jsxs)(p.Z,{value:y,onChange:e=>v(e.target.value),required:!0,children:[(0,n.jsx)("option",{value:"",children:a("SelectACategory")}),w.map(e=>(0,n.jsx)("option",{value:e.name,children:e.name},e.id))]}),(0,n.jsxs)("div",{className:"flex space-x-2 mt-2",children:[(0,n.jsx)(h.Z,{type:"text",value:M,onChange:e=>E(e.target.value),placeholder:a("NewCategoryName"),className:"!my-0"}),(0,n.jsx)(o.Z,{type:"button",onClick:D,className:"!w-auto !p-3 !text-green-600",children:(0,n.jsx)(m.Z,{className:"w-5 h-5"})})]})]}),(0,n.jsxs)("div",{className:"border-t border-neo-dark/20 pt-4",children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-700 mb-2",children:a("RecipeIngredients")}),(0,n.jsx)("div",{className:"space-y-2",children:Z.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsxs)(p.Z,{value:e.inventoryId,onChange:e=>J(t,"inventoryId",e.target.value),className:"flex-1 !my-0",children:[(0,n.jsx)("option",{value:"",children:a("SelectIngredient")}),S.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,n.jsx)(h.Z,{type:"number",value:e.quantity,onChange:e=>J(t,"quantity",Number(e.target.value)),className:"!w-20 !my-0",placeholder:"Qty"}),(0,n.jsx)(o.Z,{type:"button",onClick:()=>O(t),className:"!w-auto !p-3 !rounded-full !text-red-600",children:(0,n.jsx)(d.Z,{className:"w-4 h-4"})})]},t))}),(0,n.jsxs)("button",{type:"button",onClick:()=>{k([...Z,{inventoryId:"",name:"",quantity:1}])},className:"mt-2 flex items-center text-sm text-primary hover:underline",children:[(0,n.jsx)(m.Z,{className:"w-4 h-4 mr-1"})," ",a("AddIngredient")]})]}),(0,n.jsxs)(o.Z,{type:"submit",disabled:q,children:[(0,n.jsx)(x.Z,{className:"w-5 h-5"}),(0,n.jsx)("span",{children:q?a("Saving"):a("SaveItem")})]})]})})}var v=a(97983);function f(e){let{isOpen:t,onClose:a,menuItem:i}=e,[c,u]=(0,s.useState)(""),[g,y]=(0,s.useState)(""),[f,j]=(0,s.useState)(""),[b,N]=(0,s.useState)(""),[Z,k]=(0,s.useState)([]),[w,C]=(0,s.useState)([]),[S,I]=(0,s.useState)([]),[M,E]=(0,s.useState)(!1);(0,s.useEffect)(()=>{let e=(0,l.cf)((0,l.hJ)(r.db,"inventory"),e=>{C(e.docs.map(e=>({id:e.id,...e.data()})))}),t=(0,l.cf)((0,l.hJ)(r.db,"categories"),e=>{I(e.docs.map(e=>({id:e.id,...e.data()})))});return()=>{e(),t()}},[]),(0,s.useEffect)(()=>{i&&(u(i.name||""),y(i.price||""),j(i.category||""),N(i.image||""),k(i.recipe||[]))},[i]);let q=e=>{k(Z.filter((t,a)=>a!==e))},z=(e,t,a)=>{let n=[...Z];if("inventoryId"===t){let t=w.find(e=>e.id===a);n[e].name=(null==t?void 0:t.name)||""}n[e][t]=a,k(n)},D=async e=>{if(e.preventDefault(),i){if(0>Number(g)||Z.some(e=>0>Number(e.quantity))){alert("Price and ingredient quantities cannot be negative.");return}E(!0);try{let e=(0,l.JU)(r.db,"menu",i.id);await (0,l.r7)(e,{name:c,price:Number(g),category:f,image:b,recipe:Z}),alert("Menu item updated successfully!"),a()}catch(e){console.error("Error updating menu item:",e),alert("Failed to update menu item.")}finally{E(!1)}}};return t?(0,n.jsx)(v.Z,{isOpen:t,onClose:a,title:"Edit: ".concat(null==i?void 0:i.name),children:(0,n.jsxs)("form",{onSubmit:D,className:"space-y-4",children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Item Name"}),(0,n.jsx)(h.Z,{type:"text",value:c,onChange:e=>u(e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Price"}),(0,n.jsx)(h.Z,{type:"number",min:"0",value:g,onChange:e=>y(e.target.value)})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Category"}),(0,n.jsxs)(p.Z,{value:f,onChange:e=>j(e.target.value),children:[(0,n.jsx)("option",{value:"",children:"Select a category"}),S.map(e=>(0,n.jsx)("option",{value:e.name,children:e.name},e.id))]})]}),(0,n.jsxs)("div",{children:[(0,n.jsx)("label",{className:"block text-sm font-medium text-gray-700",children:"Image (Emoji)"}),(0,n.jsx)(h.Z,{type:"text",value:b,onChange:e=>N(e.target.value)})]}),(0,n.jsxs)("div",{className:"border-t border-neo-dark/20 pt-4",children:[(0,n.jsx)("h3",{className:"font-semibold text-gray-800 mb-2",children:"Recipe Ingredients"}),(0,n.jsx)("div",{className:"space-y-2",children:Z.map((e,t)=>(0,n.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,n.jsxs)(p.Z,{value:e.inventoryId,onChange:e=>z(t,"inventoryId",e.target.value),className:"flex-1 !my-0",children:[(0,n.jsx)("option",{value:"",children:"Select Ingredient"}),w.map(e=>(0,n.jsx)("option",{value:e.id,children:e.name},e.id))]}),(0,n.jsx)(h.Z,{type:"number",min:"0",value:e.quantity,onChange:e=>z(t,"quantity",Number(e.target.value)),className:"!w-20 !my-0",placeholder:"Qty"}),(0,n.jsx)(o.Z,{type:"button",onClick:()=>q(t),className:"!w-auto !p-3 !rounded-full !text-red-600",children:(0,n.jsx)(d.Z,{className:"w-4 h-4"})})]},t))}),(0,n.jsxs)("button",{type:"button",onClick:()=>{k([...Z,{inventoryId:"",name:"",quantity:1}])},className:"mt-2 flex items-center text-sm text-primary hover:underline",children:[(0,n.jsx)(m.Z,{className:"w-4 h-4 mr-1"})," Add Ingredient"]})]}),(0,n.jsx)("div",{className:"pt-4",children:(0,n.jsxs)(o.Z,{type:"submit",disabled:M,children:[(0,n.jsx)(x.Z,{className:"w-5 h-5"}),(0,n.jsx)("span",{children:M?"Saving...":"Save Changes"})]})})]})}):null}var j=a(41507),b=a(80244);function N(){let{t:e}=(0,i.$G)("common"),[t,a]=(0,s.useState)(!1),[c,d]=(0,s.useState)(null),[o,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)(null),[p,g]=(0,s.useState)(""),v=async()=>{x&&(await (0,l.oe)((0,l.JU)(r.db,"menu",x.id)),h(null),m(!1))};return(0,n.jsxs)(n.Fragment,{children:[(0,n.jsxs)("div",{children:[(0,n.jsx)("h1",{className:"text-3xl font-bold text-gray-700 mb-6",style:{textShadow:"1px 1px 1px #ffffff"},children:e("MenuManagement")}),(0,n.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,n.jsx)("div",{className:"lg:col-span-2",children:(0,n.jsx)(u,{onEdit:e=>{d(e),a(!0)},onDelete:e=>{h(e),m(!0)}})}),(0,n.jsx)("div",{className:"lg:col-span-1",children:(0,n.jsx)(y,{setSuccessMessage:g})})]})]}),(0,n.jsx)(f,{isOpen:t,onClose:()=>{a(!1),d(null)},menuItem:c,onSuccess:g}),(0,n.jsx)(j.default,{isOpen:o,onClose:()=>m(!1),onConfirm:v,title:e("DeleteMenuItem"),children:e("DeleteConfirm",{name:null==x?void 0:x.name})}),(0,n.jsx)(b.default,{isOpen:!!p,onClose:()=>g(""),title:"Success!",children:p})]})}},30387:function(e,t,a){"use strict";var n=a(57437);t.Z=e=>{let{children:t,title:a,className:s="",...r}=e;return(0,n.jsxs)("div",{className:"bg-neo-bg p-6 rounded-2xl shadow-neo-lg ".concat(s),...r,children:[a&&(0,n.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4 border-b border-neo-dark/50 pb-2",children:a}),(0,n.jsx)("div",{className:"text-gray-600",children:t})]})}},41507:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var n=a(57437),s=a(97983),r=e=>{let{children:t,onClick:a,type:s="button",variant:r="primary",className:l="",...i}=e;return(0,n.jsx)("button",{type:s,onClick:a,className:"".concat("flex items-center justify-center px-4 py-2 text-sm font-bold border-transparent rounded-lg shadow-neo-md bg-neo-bg transition-all active:shadow-neo-inset disabled:opacity-50"," ").concat({primary:"text-primary hover:text-indigo-600",secondary:"text-gray-700 hover:text-gray-900",danger:"text-red-600 hover:text-red-700"}[r]," ").concat(l),...i,children:t})},l=a(76865);function i(e){let{isOpen:t,onClose:a,onConfirm:i,title:c="Are you sure?",children:d}=e;return t?(0,n.jsxs)(s.Z,{isOpen:t,onClose:a,title:c,children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,n.jsx)(l.Z,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,n.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,n.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:c}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)("p",{className:"text-sm text-gray-500",children:d||"This action cannot be undone."})})]})]}),(0,n.jsxs)("div",{className:"mt-5 sm:mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,n.jsx)(r,{type:"button",variant:"danger",onClick:i,children:"Confirm"}),(0,n.jsx)(r,{type:"button",variant:"secondary",onClick:a,children:"Cancel"})]})]}):null}},97983:function(e,t,a){"use strict";var n=a(57437),s=a(32489),r=a(30387);t.Z=e=>{let{isOpen:t,onClose:a,title:l,children:i}=e;return t?(0,n.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4",children:(0,n.jsxs)(r.Z,{title:l,className:"w-full max-w-lg relative",children:[(0,n.jsx)("button",{onClick:a,className:"absolute top-4 right-4 p-2 bg-neo-bg rounded-full shadow-neo-md text-gray-500 hover:text-red-500 active:shadow-neo-inset",children:(0,n.jsx)(s.Z,{className:"w-5 h-5"})}),(0,n.jsx)("div",{children:i})]})}):null}},57598:function(e,t,a){"use strict";var n=a(57437);t.Z=e=>{let{children:t,className:a="",...s}=e;return(0,n.jsx)("button",{...s,className:"w-full p-3 bg-neo-bg rounded-lg font-bold text-gray-700 shadow-neo-md transition-all hover:text-primary active:shadow-neo-inset disabled:opacity-50 flex items-center justify-center space-x-2 ".concat(a),children:t})}},63295:function(e,t,a){"use strict";var n=a(57437);t.Z=e=>{let{className:t="",...a}=e;return(0,n.jsx)("input",{...a,className:"w-full my-1 p-3 bg-neo-bg rounded-lg shadow-neo-inset focus:outline-none text-sm ".concat(t)})}},11511:function(e,t,a){"use strict";var n=a(57437);t.Z=e=>{let{children:t,className:a="",...s}=e;return(0,n.jsx)("select",{...s,className:"w-full my-1 p-3 bg-neo-bg rounded-lg shadow-neo-inset focus:outline-none appearance-none text-sm ".concat(a),children:t})}},80244:function(e,t,a){"use strict";a.r(t),a.d(t,{default:function(){return i}});var n=a(57437),s=a(97983),r=a(57598),l=a(41671);function i(e){let{isOpen:t,onClose:a,title:i="Success!",children:c,actions:d}=e;return t?(0,n.jsxs)(s.Z,{isOpen:t,onClose:a,title:i,children:[(0,n.jsxs)("div",{className:"text-center",children:[(0,n.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,n.jsx)(l.Z,{className:"h-6 w-6 text-green-600","aria-hidden":"true"})}),(0,n.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,n.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:i}),(0,n.jsx)("div",{className:"mt-2",children:(0,n.jsx)("p",{className:"text-sm text-gray-500",children:c})})]})]}),(0,n.jsxs)("div",{className:"mt-5 sm:mt-6 space-y-2",children:[d,(0,n.jsx)(r.Z,{onClick:a,className:"!text-gray-700",children:"OK"})]})]}):null}},8858:function(e,t,a){"use strict";let n;a.d(t,{I8:function(){return c},db:function(){return d}});var s=a(738),r=a(43301),l=a(5978),i=a(13491);n=(0,s.C6)().length?(0,s.C6)()[0]:(0,s.ZF)({apiKey:"AIzaSyBc-lay18YWj7GGVQsMpeGOQ6FG2Bjv4Ug",authDomain:"vozz-os-template.firebaseapp.com",projectId:"vozz-os-template",storageBucket:"vozz-os-template.firebasestorage.app",messagingSenderId:"790770638358",appId:"1:790770638358:web:cb155fd1022b9d6eb39f37"});let c=(0,r.v0)(n),d=(0,l.ad)(n);(0,i.$C)(n)}},function(e){e.O(0,[4358,9990,294,3949,2971,2117,1744],function(){return e(e.s=3865)}),_N_E=e.O()}]);