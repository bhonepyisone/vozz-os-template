(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4978,244],{77735:function(e,t,n){Promise.resolve().then(n.bind(n,28730))},41671:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(79205).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},83229:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(79205).Z)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]])},76865:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(79205).Z)("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]])},32489:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},24369:function(e,t,n){"use strict";var s=n(2265),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=s.useState,i=s.useEffect,l=s.useLayoutEffect,o=s.useDebugValue;function c(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var u="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),s=a({inst:{value:n,getSnapshot:t}}),r=s[0].inst,u=s[1];return l(function(){r.value=n,r.getSnapshot=t,c(r)&&u({inst:r})},[e,n,t]),i(function(){return c(r)&&u({inst:r}),e(function(){c(r)&&u({inst:r})})},[e]),o(n),n};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:u},92860:function(e,t,n){"use strict";var s=n(2265),r=n(82558),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useSyncExternalStore,l=s.useRef,o=s.useEffect,c=s.useMemo,u=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var d=l(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;var f=i(e,(d=c(function(){function e(e){if(!o){if(o=!0,i=e,e=s(e),void 0!==r&&m.hasValue){var t=m.value;if(r(t,e))return l=t}return l=e}if(t=l,a(i,e))return t;var n=s(e);return void 0!==r&&r(t,n)?(i=e,t):(i=e,l=n)}var i,l,o=!1,c=void 0===n?null:n;return[function(){return e(t())},null===c?void 0:function(){return e(c())}]},[t,n,s,r]))[0],d[1]);return o(function(){m.hasValue=!0,m.value=f},[f]),u(f),f}},82558:function(e,t,n){"use strict";e.exports=n(24369)},35195:function(e,t,n){"use strict";e.exports=n(92860)},28730:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var s=n(57437),r=n(2265),a=n(58856),i=n(43949),l=n(8858),o=n(5978),c=n(83229),u=n(30387),d=n(63295),m=n(57598);function f(e){let{onSuccess:t}=e,{t:n}=(0,i.$G)("common"),{user:f}=(0,a.t)(),[h,x]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{f&&x(f.name)},[f]);let v=async e=>{if(e.preventDefault(),f&&h){g(!0);try{let e=(0,o.JU)(l.db,"users",f.uid);await (0,o.r7)(e,{name:h}),t(n("ProfileUpdated"))}catch(e){console.error("Error updating profile:",e)}finally{g(!1)}}};return f?(0,s.jsx)(u.Z,{title:n("YourProfile"),children:(0,s.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-1",children:"Email"}),(0,s.jsx)(d.Z,{type:"text",id:"email",value:f.email,disabled:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"name",className:"block text-sm font-medium text-gray-700 mb-1",children:n("FullName")}),(0,s.jsx)(d.Z,{type:"text",id:"name",value:h,onChange:e=>x(e.target.value),required:!0})]}),(0,s.jsxs)(m.Z,{type:"submit",disabled:p,children:[(0,s.jsx)(c.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:p?n("Saving"):n("SaveChanges")})]})]})}):(0,s.jsx)(u.Z,{title:n("YourProfile"),children:(0,s.jsx)("div",{children:"Loading..."})})}function h(e){let{onSuccess:t}=e,{t:n}=(0,i.$G)("common"),{user:f}=(0,a.t)(),[h,x]=(0,r.useState)(""),[p,g]=(0,r.useState)(!1);(0,r.useEffect)(()=>{(async()=>{if(null==f?void 0:f.shopId){let e=(0,o.JU)(l.db,"shops",f.shopId),t=await (0,o.QT)(e);t.exists()&&x(t.data().name)}})()},[f]);let v=async e=>{if(e.preventDefault(),(null==f?void 0:f.shopId)&&h){g(!0);try{let e=(0,o.JU)(l.db,"shops",f.shopId);await (0,o.r7)(e,{name:h}),t(n("ShopNameUpdated"))}catch(e){console.error("Error updating shop name:",e)}finally{g(!1)}}};return(0,s.jsx)(u.Z,{title:n("ShopSettings"),children:(0,s.jsxs)("form",{onSubmit:v,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"shopName",className:"block text-sm font-medium text-gray-700 mb-1",children:n("ShopName")}),(0,s.jsx)(d.Z,{type:"text",id:"shopName",value:h,onChange:e=>x(e.target.value),required:!0})]}),(0,s.jsxs)(m.Z,{type:"submit",disabled:p,children:[(0,s.jsx)(c.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:p?n("Saving"):n("SaveChanges")})]})]})})}var x=n(43301);let p=(0,n(79205).Z)("KeyRound",[["path",{d:"M2 18v3c0 .6.4 1 1 1h4v-3h3v-3h2l1.4-1.4a6.5 6.5 0 1 0-4-4Z",key:"167ctg"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]]);function g(e){let{onSuccess:t,onError:n}=e,{t:o}=(0,i.$G)("common"),{user:c}=(0,a.t)(),[f,h]=(0,r.useState)(""),[g,v]=(0,r.useState)(""),[b,y]=(0,r.useState)(""),[j,w]=(0,r.useState)(!1),S=async e=>{if(e.preventDefault(),g!==b){n("New passwords do not match.");return}if(!c){n("You must be logged in to change your password.");return}w(!0),n("");try{let e=x.w9.credential(c.email,f);await (0,x.aF)(l.I8.currentUser,e),await (0,x.gQ)(l.I8.currentUser,g),t(o("PasswordUpdated")),h(""),v(""),y("")}catch(e){console.error("Error changing password:",e),"auth/wrong-password"===e.code?n("The current password you entered is incorrect."):n("Failed to change password. Please try again.")}finally{w(!1)}};return(0,s.jsx)(u.Z,{title:o("ChangePassword"),children:(0,s.jsxs)("form",{onSubmit:S,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:o("CurrentPassword")}),(0,s.jsx)(d.Z,{type:"password",value:f,onChange:e=>h(e.target.value),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:o("NewPassword")}),(0,s.jsx)(d.Z,{type:"password",value:g,onChange:e=>v(e.target.value),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{className:"block text-sm font-medium text-gray-700 mb-1",children:o("ConfirmNewPassword")}),(0,s.jsx)(d.Z,{type:"password",value:b,onChange:e=>y(e.target.value),required:!0})]}),(0,s.jsxs)(m.Z,{type:"submit",disabled:j,children:[(0,s.jsx)(p,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:j?o("Saving"):o("UpdatePassword")})]})]})})}var v=n(80244),b=n(41507);function y(){let{t:e}=(0,i.$G)("common"),{user:t}=(0,a.t)(),n=(null==t?void 0:t.role)==="Admin"||(null==t?void 0:t.role)==="Management",[l,o]=(0,r.useState)(""),[c,u]=(0,r.useState)("");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-700 mb-6",style:{textShadow:"1px 1px 1px #ffffff"},children:e("Settings")}),(0,s.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-8",children:[(0,s.jsx)(f,{onSuccess:o}),n&&(0,s.jsx)(h,{onSuccess:o}),(0,s.jsx)(g,{onSuccess:o,onError:u})]})]}),(0,s.jsx)(v.default,{isOpen:!!l,onClose:()=>o(""),title:e("Success"),children:l}),(0,s.jsx)(b.default,{isOpen:!!c,onClose:()=>u(""),onConfirm:()=>u(""),title:e("Error"),children:c})]})}},30387:function(e,t,n){"use strict";var s=n(57437);t.Z=e=>{let{children:t,title:n,className:r="",...a}=e;return(0,s.jsxs)("div",{className:"bg-neo-bg p-6 rounded-2xl shadow-neo-lg ".concat(r),...a,children:[n&&(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4 border-b border-neo-dark/50 pb-2",children:n}),(0,s.jsx)("div",{className:"text-gray-600",children:t})]})}},41507:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(57437),r=n(97983),a=e=>{let{children:t,onClick:n,type:r="button",variant:a="primary",className:i="",...l}=e;return(0,s.jsx)("button",{type:r,onClick:n,className:"".concat("flex items-center justify-center px-4 py-2 text-sm font-bold border-transparent rounded-lg shadow-neo-md bg-neo-bg transition-all active:shadow-neo-inset disabled:opacity-50"," ").concat({primary:"text-primary hover:text-indigo-600",secondary:"text-gray-700 hover:text-gray-900",danger:"text-red-600 hover:text-red-700"}[a]," ").concat(i),...l,children:t})},i=n(76865);function l(e){let{isOpen:t,onClose:n,onConfirm:l,title:o="Are you sure?",children:c}=e;return t?(0,s.jsxs)(r.Z,{isOpen:t,onClose:n,title:o,children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-red-100",children:(0,s.jsx)(i.Z,{className:"h-6 w-6 text-red-600","aria-hidden":"true"})}),(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:o}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("p",{className:"text-sm text-gray-500",children:c||"This action cannot be undone."})})]})]}),(0,s.jsxs)("div",{className:"mt-5 sm:mt-6 grid grid-cols-1 sm:grid-cols-2 gap-3",children:[(0,s.jsx)(a,{type:"button",variant:"danger",onClick:l,children:"Confirm"}),(0,s.jsx)(a,{type:"button",variant:"secondary",onClick:n,children:"Cancel"})]})]}):null}},97983:function(e,t,n){"use strict";var s=n(57437),r=n(32489),a=n(30387);t.Z=e=>{let{isOpen:t,onClose:n,title:i,children:l}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(a.Z,{title:i,className:"w-full max-w-lg relative",children:[(0,s.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 bg-neo-bg rounded-full shadow-neo-md text-gray-500 hover:text-red-500 active:shadow-neo-inset",children:(0,s.jsx)(r.Z,{className:"w-5 h-5"})}),(0,s.jsx)("div",{children:l})]})}):null}},57598:function(e,t,n){"use strict";var s=n(57437);t.Z=e=>{let{children:t,className:n="",...r}=e;return(0,s.jsx)("button",{...r,className:"w-full p-3 bg-neo-bg rounded-lg font-bold text-gray-700 shadow-neo-md transition-all hover:text-primary active:shadow-neo-inset disabled:opacity-50 flex items-center justify-center space-x-2 ".concat(n),children:t})}},63295:function(e,t,n){"use strict";var s=n(57437);t.Z=e=>{let{className:t="",...n}=e;return(0,s.jsx)("input",{...n,className:"w-full my-1 p-3 bg-neo-bg rounded-lg shadow-neo-inset focus:outline-none text-sm ".concat(t)})}},80244:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(57437),r=n(97983),a=n(57598),i=n(41671);function l(e){let{isOpen:t,onClose:n,title:l="Success!",children:o,actions:c}=e;return t?(0,s.jsxs)(r.Z,{isOpen:t,onClose:n,title:l,children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,s.jsx)(i.Z,{className:"h-6 w-6 text-green-600","aria-hidden":"true"})}),(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:l}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("p",{className:"text-sm text-gray-500",children:o})})]})]}),(0,s.jsxs)("div",{className:"mt-5 sm:mt-6 space-y-2",children:[c,(0,s.jsx)(a.Z,{onClick:n,className:"!text-gray-700",children:"OK"})]})]}):null}},58856:function(e,t,n){"use strict";n.d(t,{t:function(){return l}});var s=n(59625),r=n(8858),a=n(5978),i=n(43301);let l=(0,s.Ue)(e=>({user:null,loading:!0,fetchUser:()=>{(0,i.Aj)(r.I8,async t=>{if(t){let n=(0,a.JU)(r.db,"users",t.uid),s=await (0,a.QT)(n);s.exists()?e({user:{uid:s.id,...s.data()},loading:!1}):((0,i.w7)(r.I8),e({user:null,loading:!1}))}else e({user:null,loading:!1})})},login:async(t,n,s)=>{e({loading:!0});try{let e=s?i.a$:i.aT;await (0,i.Fb)(r.I8,e),await (0,i.e5)(r.I8,t,n)}catch(t){throw console.error("Login failed:",t),e({user:null,loading:!1}),t}},logout:async()=>{e({loading:!0}),await (0,i.w7)(r.I8)}}));l.getState().fetchUser()},8858:function(e,t,n){"use strict";let s;n.d(t,{I8:function(){return o},db:function(){return c}});var r=n(738),a=n(43301),i=n(5978),l=n(13491);s=(0,r.C6)().length?(0,r.C6)()[0]:(0,r.ZF)({apiKey:"AIzaSyBc-lay18YWj7GGVQsMpeGOQ6FG2Bjv4Ug",authDomain:"vozz-os-template.firebaseapp.com",projectId:"vozz-os-template",storageBucket:"vozz-os-template.firebasestorage.app",messagingSenderId:"790770638358",appId:"1:790770638358:web:cb155fd1022b9d6eb39f37"});let o=(0,a.v0)(s),c=(0,i.ad)(s);(0,l.$C)(s)},59625:function(e,t,n){"use strict";n.d(t,{Ue:function(){return m}});let s=e=>{let t;let n=new Set,s=(e,s)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=s?s:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,a={setState:s,getState:r,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(s,r,a);return a},r=e=>e?s(e):s;var a=n(2265),i=n(35195);let{useDebugValue:l}=a,{useSyncExternalStoreWithSelector:o}=i,c=!1,u=e=>e,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?r(e):e,n=(e,n)=>(function(e,t=u,n){n&&!c&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),c=!0);let s=o(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return l(s),s})(t,e,n);return Object.assign(n,t),n},m=e=>e?d(e):d}},function(e){e.O(0,[4358,9990,294,3949,2971,2117,1744],function(){return e(e.s=77735)}),_N_E=e.O()}]);