(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[379,244],{61740:function(e,t,n){Promise.resolve().then(n.bind(n,47075))},41671:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(79205).Z)("CircleCheckBig",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]])},44743:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(79205).Z)("Send",[["path",{d:"m22 2-7 20-4-9-9-4Z",key:"1q3vgg"}],["path",{d:"M22 2 11 13",key:"nzbqef"}]])},32489:function(e,t,n){"use strict";n.d(t,{Z:function(){return s}});let s=(0,n(79205).Z)("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]])},24369:function(e,t,n){"use strict";var s=n(2265),r="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},a=s.useState,i=s.useEffect,l=s.useLayoutEffect,u=s.useDebugValue;function o(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!r(e,n)}catch(e){return!0}}var c="undefined"==typeof window||void 0===window.document||void 0===window.document.createElement?function(e,t){return t()}:function(e,t){var n=t(),s=a({inst:{value:n,getSnapshot:t}}),r=s[0].inst,c=s[1];return l(function(){r.value=n,r.getSnapshot=t,o(r)&&c({inst:r})},[e,n,t]),i(function(){return o(r)&&c({inst:r}),e(function(){o(r)&&c({inst:r})})},[e]),u(n),n};t.useSyncExternalStore=void 0!==s.useSyncExternalStore?s.useSyncExternalStore:c},92860:function(e,t,n){"use strict";var s=n(2265),r=n(82558),a="function"==typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e==1/t)||e!=e&&t!=t},i=r.useSyncExternalStore,l=s.useRef,u=s.useEffect,o=s.useMemo,c=s.useDebugValue;t.useSyncExternalStoreWithSelector=function(e,t,n,s,r){var d=l(null);if(null===d.current){var m={hasValue:!1,value:null};d.current=m}else m=d.current;var f=i(e,(d=o(function(){function e(e){if(!u){if(u=!0,i=e,e=s(e),void 0!==r&&m.hasValue){var t=m.value;if(r(t,e))return l=t}return l=e}if(t=l,a(i,e))return t;var n=s(e);return void 0!==r&&r(t,n)?(i=e,t):(i=e,l=n)}var i,l,u=!1,o=void 0===n?null:n;return[function(){return e(t())},null===o?void 0:function(){return e(o())}]},[t,n,s,r]))[0],d[1]);return u(function(){m.hasValue=!0,m.value=f},[f]),c(f),f}},82558:function(e,t,n){"use strict";e.exports=n(24369)},35195:function(e,t,n){"use strict";e.exports=n(92860)},47075:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return y}});var s=n(57437),r=n(2265),a=n(43949),i=n(8858),l=n(5978),u=n(58856);let o=(0,n(79205).Z)("Paperclip",[["path",{d:"m21.44 11.05-9.19 9.19a6 6 0 0 1-8.49-8.49l8.57-8.57A4 4 0 1 1 18 8.84l-8.59 8.57a2 2 0 0 1-2.83-2.83l8.49-8.48",key:"1u3ebp"}]]);var c=n(44743),d=n(30387),m=n(63295),f=n(57598);let x=e=>(0,s.jsx)("textarea",{...e,className:"w-full my-1 p-3 bg-neo-bg rounded-lg shadow-neo-inset focus:outline-none text-sm"});function h(e){let{onSuccess:t}=e,{t:n}=(0,a.$G)("common"),{user:h}=(0,u.t)(),[b,g]=(0,r.useState)(""),[p,v]=(0,r.useState)(""),[y,j]=(0,r.useState)(!1),[w,S]=(0,r.useState)(null),N=async e=>{if(e.preventDefault(),!h||!b||!p){alert("Please provide an amount and a reason for the reimbursement.");return}j(!0);try{await (0,l.ET)((0,l.hJ)(i.db,"reimbursements"),{staffId:h.uid,staffName:h.name,amount:Number(b),reason:p,status:"pending",requestedAt:l.EK.now(),receiptUrl:""}),t({key:"ReimbursementSubmitted"}),g(""),v(""),S(null)}catch(e){console.error("Error submitting reimbursement request:",e)}finally{j(!1)}};return(0,s.jsx)(d.Z,{title:n("SubmitReimbursement"),children:(0,s.jsxs)("form",{onSubmit:N,className:"space-y-4",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"amount",className:"block text-sm font-medium text-gray-700 mb-1",children:n("Amount")}),(0,s.jsx)(m.Z,{type:"number",id:"amount",value:b,onChange:e=>g(e.target.value),required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"reason",className:"block text-sm font-medium text-gray-700 mb-1",children:n("ReasonForExpense")}),(0,s.jsx)(x,{id:"reason",value:p,onChange:e=>v(e.target.value),rows:"3",required:!0})]}),(0,s.jsxs)("div",{children:[(0,s.jsx)("label",{htmlFor:"receipt",className:"block text-sm font-medium text-gray-700 mb-1",children:n("UploadReceiptOptional")}),(0,s.jsx)("div",{className:"mt-1 flex items-center justify-center px-6 pt-5 pb-6 border-2 border-neo-dark/30 border-dashed rounded-lg",children:(0,s.jsxs)("div",{className:"space-y-1 text-center",children:[(0,s.jsx)(o,{className:"mx-auto h-12 w-12 text-gray-400"}),(0,s.jsx)("p",{className:"text-xs text-gray-500",children:n("FileUploadComingSoon")})]})})]}),(0,s.jsxs)(f.Z,{type:"submit",disabled:y,children:[(0,s.jsx)(c.Z,{className:"w-5 h-5"}),(0,s.jsx)("span",{children:n(y?"Submitting":"SubmitRequest")})]})]})})}var b=n(66474);let g=e=>{let{status:t}=e,{t:n}=(0,a.$G)("common");return(0,s.jsx)("span",{className:"px-2.5 py-1 text-xs font-bold rounded-full bg-neo-bg shadow-neo-md capitalize ".concat({pending:"bg-yellow-100 text-yellow-800",approved:"bg-green-100 text-green-800",denied:"bg-red-100 text-red-800"}[t]||"bg-gray-100"),children:n(t)})};function p(){let{t:e}=(0,a.$G)("common"),{user:t}=(0,u.t)(),[n,o]=(0,r.useState)([]),[c,m]=(0,r.useState)(!0);return(0,r.useEffect)(()=>{if(!t)return;let e=(0,l.IO)((0,l.hJ)(i.db,"reimbursements"),(0,l.ar)("staffId","==",t.uid),(0,l.Xo)("requestedAt","desc")),n=(0,l.cf)(e,e=>{o(e.docs.map(e=>({id:e.id,...e.data(),requestedAt:e.data().requestedAt.toDate()}))),m(!1)},e=>{console.error("Error fetching reimbursement history:",e),m(!1)});return()=>n()},[t]),(0,s.jsx)(d.Z,{title:e("YourReimbursementHistory"),children:(0,s.jsxs)("div",{className:"space-y-3",children:[c&&(0,s.jsx)("p",{children:"Loading history..."}),!c&&0===n.length&&(0,s.jsx)("p",{children:"You have not submitted any requests."}),n.map(t=>(0,s.jsxs)("div",{className:"p-4 border border-neo-dark/20 rounded-lg flex justify-between items-center",children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("p",{className:"font-semibold text-gray-800",children:t.reason}),(0,s.jsxs)("p",{className:"text-sm text-gray-600",children:[e("Amount"),": ",t.amount.toFixed(2)]}),(0,s.jsxs)("p",{className:"text-xs text-gray-400",children:[e("Submitted"),": ",(0,b.p)(t.requestedAt)]})]}),(0,s.jsx)(g,{status:t.status})]},t.id))]})})}var v=n(80244);function y(){let{t:e}=(0,a.$G)("common"),[t,n]=(0,r.useState)("");return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)("div",{children:[(0,s.jsx)("h1",{className:"text-3xl font-bold text-gray-700 mb-6",style:{textShadow:"1px 1px 1px #ffffff"},children:e("Reimbursements")}),(0,s.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[(0,s.jsx)("div",{className:"lg:col-span-1",children:(0,s.jsx)(h,{onSuccess:n})}),(0,s.jsx)("div",{className:"lg:col-span-2",children:(0,s.jsx)(p,{})})]})]}),(0,s.jsx)(v.default,{isOpen:!!t,onClose:()=>n(""),title:e("Success"),children:e(t.key||t,t.options)})]})}},30387:function(e,t,n){"use strict";var s=n(57437);t.Z=e=>{let{children:t,title:n,className:r="",...a}=e;return(0,s.jsxs)("div",{className:"bg-neo-bg p-6 rounded-2xl shadow-neo-lg ".concat(r),...a,children:[n&&(0,s.jsx)("h2",{className:"text-xl font-semibold text-gray-700 mb-4 border-b border-neo-dark/50 pb-2",children:n}),(0,s.jsx)("div",{className:"text-gray-600",children:t})]})}},97983:function(e,t,n){"use strict";var s=n(57437),r=n(32489),a=n(30387);t.Z=e=>{let{isOpen:t,onClose:n,title:i,children:l}=e;return t?(0,s.jsx)("div",{className:"fixed inset-0 bg-black bg-opacity-30 flex items-center justify-center z-50 p-4",children:(0,s.jsxs)(a.Z,{title:i,className:"w-full max-w-lg relative",children:[(0,s.jsx)("button",{onClick:n,className:"absolute top-4 right-4 p-2 bg-neo-bg rounded-full shadow-neo-md text-gray-500 hover:text-red-500 active:shadow-neo-inset",children:(0,s.jsx)(r.Z,{className:"w-5 h-5"})}),(0,s.jsx)("div",{children:l})]})}):null}},57598:function(e,t,n){"use strict";var s=n(57437);t.Z=e=>{let{children:t,className:n="",...r}=e;return(0,s.jsx)("button",{...r,className:"w-full p-3 bg-neo-bg rounded-lg font-bold text-gray-700 shadow-neo-md transition-all hover:text-primary active:shadow-neo-inset disabled:opacity-50 flex items-center justify-center space-x-2 ".concat(n),children:t})}},63295:function(e,t,n){"use strict";var s=n(57437);t.Z=e=>{let{className:t="",...n}=e;return(0,s.jsx)("input",{...n,className:"w-full my-1 p-3 bg-neo-bg rounded-lg shadow-neo-inset focus:outline-none text-sm ".concat(t)})}},80244:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return l}});var s=n(57437),r=n(97983),a=n(57598),i=n(41671);function l(e){let{isOpen:t,onClose:n,title:l="Success!",children:u,actions:o}=e;return t?(0,s.jsxs)(r.Z,{isOpen:t,onClose:n,title:l,children:[(0,s.jsxs)("div",{className:"text-center",children:[(0,s.jsx)("div",{className:"mx-auto flex items-center justify-center h-12 w-12 rounded-full bg-green-100",children:(0,s.jsx)(i.Z,{className:"h-6 w-6 text-green-600","aria-hidden":"true"})}),(0,s.jsxs)("div",{className:"mt-3 text-center sm:mt-5",children:[(0,s.jsx)("h3",{className:"text-lg leading-6 font-medium text-gray-900",children:l}),(0,s.jsx)("div",{className:"mt-2",children:(0,s.jsx)("p",{className:"text-sm text-gray-500",children:u})})]})]}),(0,s.jsxs)("div",{className:"mt-5 sm:mt-6 space-y-2",children:[o,(0,s.jsx)(a.Z,{onClick:n,className:"!text-gray-700",children:"OK"})]})]}):null}},58856:function(e,t,n){"use strict";n.d(t,{t:function(){return l}});var s=n(59625),r=n(8858),a=n(5978),i=n(43301);let l=(0,s.Ue)(e=>({user:null,loading:!0,fetchUser:()=>{(0,i.Aj)(r.I8,async t=>{if(t){let n=(0,a.JU)(r.db,"users",t.uid),s=await (0,a.QT)(n);s.exists()?e({user:{uid:s.id,...s.data()},loading:!1}):((0,i.w7)(r.I8),e({user:null,loading:!1}))}else e({user:null,loading:!1})})},login:async(t,n,s)=>{e({loading:!0});try{let e=s?i.a$:i.aT;await (0,i.Fb)(r.I8,e),await (0,i.e5)(r.I8,t,n)}catch(t){throw console.error("Login failed:",t),e({user:null,loading:!1}),t}},logout:async()=>{e({loading:!0}),await (0,i.w7)(r.I8)}}));l.getState().fetchUser()},8858:function(e,t,n){"use strict";let s;n.d(t,{I8:function(){return u},db:function(){return o}});var r=n(738),a=n(43301),i=n(5978),l=n(13491);s=(0,r.C6)().length?(0,r.C6)()[0]:(0,r.ZF)({apiKey:"AIzaSyBc-lay18YWj7GGVQsMpeGOQ6FG2Bjv4Ug",authDomain:"vozz-os-template.firebaseapp.com",projectId:"vozz-os-template",storageBucket:"vozz-os-template.firebasestorage.app",messagingSenderId:"790770638358",appId:"1:790770638358:web:cb155fd1022b9d6eb39f37"});let u=(0,a.v0)(s),o=(0,i.ad)(s);(0,l.$C)(s)},66474:function(e,t,n){"use strict";n.d(t,{p:function(){return r},x:function(){return a}});var s=n(97112);function r(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"PPP";return e?(0,s.WU)(new Date(e),t):""}function a(e){return"number"!=typeof e?"":e.toLocaleString("en-US")}},59625:function(e,t,n){"use strict";n.d(t,{Ue:function(){return m}});let s=e=>{let t;let n=new Set,s=(e,s)=>{let r="function"==typeof e?e(t):e;if(!Object.is(r,t)){let e=t;t=(null!=s?s:"object"!=typeof r||null===r)?r:Object.assign({},t,r),n.forEach(n=>n(t,e))}},r=()=>t,a={setState:s,getState:r,getInitialState:()=>i,subscribe:e=>(n.add(e),()=>n.delete(e)),destroy:()=>{console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),n.clear()}},i=t=e(s,r,a);return a},r=e=>e?s(e):s;var a=n(2265),i=n(35195);let{useDebugValue:l}=a,{useSyncExternalStoreWithSelector:u}=i,o=!1,c=e=>e,d=e=>{"function"!=typeof e&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");let t="function"==typeof e?r(e):e,n=(e,n)=>(function(e,t=c,n){n&&!o&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),o=!0);let s=u(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return l(s),s})(t,e,n);return Object.assign(n,t),n},m=e=>e?d(e):d}},function(e){e.O(0,[4358,9990,294,3949,7112,2971,2117,1744],function(){return e(e.s=61740)}),_N_E=e.O()}]);